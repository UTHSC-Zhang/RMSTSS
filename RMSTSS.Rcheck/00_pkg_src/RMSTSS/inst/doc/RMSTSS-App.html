<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>User Guide for the RMSTSS Shiny Application</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<style type="text/css">detaiks.chunk-details > summary.chunk-summary {
text-align: right;
}
details.chunk-details[open] > summary.chunk-summary::after {
content: "Hide";
}
details.chunk-details[open] > summary.chunk-summary > span.chunk-summary-text {
display: none;
}
</style>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>







<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">User Guide for the RMSTSS Shiny
Application</h1>


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#the-user-workflow-a-quick-overview" id="toc-the-user-workflow-a-quick-overview">The User Workflow: A Quick
Overview</a></li>
<li><a href="#the-sidebar-input-panels-explained" id="toc-the-sidebar-input-panels-explained">The Sidebar: Input Panels
Explained</a>
<ul>
<li><a href="#setup-model" id="toc-setup-model">1. Setup &amp;
Model</a></li>
<li><a href="#column-mapping" id="toc-column-mapping">2. Column
Mapping</a>
<ul>
<li><a href="#model-specific-mapping" id="toc-model-specific-mapping">Model-Specific Mapping</a></li>
</ul></li>
<li><a href="#analysis-parameters" id="toc-analysis-parameters">3.
Analysis Parameters</a></li>
<li><a href="#bootstrap-options" id="toc-bootstrap-options">4. Bootstrap
Options</a></li>
<li><a href="#action-buttons" id="toc-action-buttons">Action
Buttons</a></li>
</ul></li>
<li><a href="#the-main-panel-interpreting-your-results" id="toc-the-main-panel-interpreting-your-results">The Main Panel:
Interpreting Your Results</a>
<ul>
<li><a href="#data-preview-tab" id="toc-data-preview-tab">Data Preview
Tab</a></li>
<li><a href="#plot-output-tab" id="toc-plot-output-tab">Plot Output
Tab</a></li>
<li><a href="#summary-tab" id="toc-summary-tab">Summary Tab</a></li>
<li><a href="#console-log-tab" id="toc-console-log-tab">Console Log
Tab</a></li>
</ul></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Introduction to the RMSTSS Power and Sample Size User Guide. The
RMSTSS Power and Sample Size Calculator is an interactive Shiny program
that provides a simple, point-and-click interface for the robust
statistical models within the RMSTSS R package. The program allows
researchers, clinicians, and statisticians to perform advanced power and
sample size calculations for clinical trials using Restricted Mean
Survival Time (RMST) without having to know any programming.</p>
<p>This handbook will guide you through each of the elements of the
application, outlining the different inputs, parameters, and results so
that you can design efficient and effective clinical trials.</p>
<p>This guide will walk you through each section of the application,
explaining the various inputs, parameters, and outputs to help you
design robust and efficient clinical trials.</p>
</div>
<div id="the-user-workflow-a-quick-overview" class="section level1">
<h1>The User Workflow: A Quick Overview</h1>
<p>Using the application follows a logical, step-by-step process from
left to right, top to bottom. The general workflow is:</p>
<ol style="list-style-type: decimal">
<li><strong>Setup &amp; Model:</strong> Upload your pilot data and
select the appropriate statistical model for your study design.</li>
<li><strong>Column Mapping:</strong> Tell the application which columns
in your data correspond to key variables like time, event status, and
treatment arm.</li>
<li><strong>Analysis Parameters:</strong> Define the core parameters of
your analysis, such as the truncation time (<code>L</code>),
significance level (<code>alpha</code>), and whether you are calculating
for <strong>Power</strong> or <strong>Sample Size</strong>.</li>
<li><strong>Run Analysis:</strong> Click the main button to perform the
calculations.</li>
<li><strong>Interpret Outputs:</strong> Explore the results through
interactive plots, summary tables, and detailed logs.</li>
<li><strong>Download Report:</strong> Generate a publication-ready PDF
report of your analysis.</li>
</ol>
<hr />
</div>
<div id="the-sidebar-input-panels-explained" class="section level1">
<h1>The Sidebar: Input Panels Explained</h1>
<p>The sidebar on the left contains all the controls for setting up and
running your analysis. It is organized into several panels.</p>
<div id="setup-model" class="section level2">
<h2>1. Setup &amp; Model</h2>
<p>This is the starting point of your analysis.</p>
<p><em>[Suggest placing a screenshot of the “Setup &amp; Model” panel
here]</em></p>
<ul>
<li><strong>Upload Pilot Data (.csv):</strong> Click the “Browse…”
button to upload a CSV file containing your pilot or historical study
data. This data is essential, as the application will use it to estimate
the treatment effect and data variability needed for the
calculations.</li>
<li><strong>Select RMST Model:</strong> Choose the statistical model
that best fits your trial’s design and assumptions. The available models
are:
<ul>
<li><strong><code>Linear IPCW Model</code></strong>: The standard model
for single-center studies, assuming covariates have a linear effect on
the RMST.</li>
<li><strong><code>Additive Stratified Model</code></strong>: For
multi-center trials where the treatment is expected to add a
<em>constant</em> amount of survival time across all strata (e.g.,
clinical sites).</li>
<li><strong><code>Multiplicative Stratified Model</code></strong>: For
multi-center trials where the treatment is expected to have a
<em>proportional</em> (multiplicative) effect on survival time across
strata.</li>
<li><strong><code>Semiparametric (GAM) Model</code></strong>: For
studies where a covariate (like age or a biomarker) is expected to have
a complex, non-linear relationship with the RMST.</li>
<li><strong><code>Dependent Censoring Model</code></strong>: For studies
with competing risks, where censoring may be related to covariates
(e.g., a patient receiving a transplant is no longer at risk for
pre-transplant mortality).</li>
</ul></li>
</ul>
</div>
<div id="column-mapping" class="section level2">
<h2>2. Column Mapping</h2>
<p>After uploading data and selecting a model, this panel appears. You
must map the columns from your CSV file to the variables the model needs
to run.</p>
<p><em>[Suggest placing a screenshot of the “Column Mapping” panel
here]</em></p>
<ul>
<li><strong>Time-to-Event:</strong> Select the column that contains the
time data (e.g., <code>time</code>, <code>futime</code>).</li>
<li><strong>Status (1=event):</strong> Select the column indicating
event status. By convention, this column should contain <code>1</code>
for an event and <code>0</code> for a censored observation.</li>
<li><strong>Treatment Arm (1=treat):</strong> Select the column for the
treatment group. By convention, this should be <code>1</code> for the
treatment arm and <code>0</code> for the control/placebo arm.</li>
</ul>
<div id="model-specific-mapping" class="section level3">
<h3>Model-Specific Mapping</h3>
<p>Depending on the model you chose in the first panel, additional
mapping options will appear:</p>
<ul>
<li><strong>Stratification Variable:</strong> This appears for
<code>Additive Stratified</code>,
<code>Multiplicative Stratified</code>, and
<code>Semiparametric (GAM)</code> models. Select the column that
identifies the strata (e.g., <code>center_id</code>,
<code>region</code>).</li>
<li><strong>Dependent Censoring Status:</strong> This appears for the
<code>Dependent Censoring Model</code>. Select the column that indicates
whether a patient was censored due to the competing risk event.</li>
<li><strong>Linear Covariates:</strong> Select one or more columns to
include as adjustment covariates in the model, assuming they have a
linear effect.</li>
<li><strong>Non-Linear (Smooth) Covariates:</strong> This appears for
the <code>Semiparametric (GAM) Model</code>. Select one or more
covariates that you wish to model using a flexible, non-linear smooth
function.</li>
</ul>
</div>
</div>
<div id="analysis-parameters" class="section level2">
<h2>3. Analysis Parameters</h2>
<p>This panel contains the core settings for the calculation itself.</p>
<p><em>[Suggest placing a screenshot of the “Analysis Parameters” panel
here]</em></p>
<ul>
<li><strong>Target Quantity:</strong>
<ul>
<li><strong><code>Power</code></strong>: Choose this if you want to
calculate the statistical power for a given set of sample sizes.</li>
<li><strong><code>Sample Size</code></strong>: Choose this if you want
to find the required sample size to achieve a specific target
power.</li>
</ul></li>
<li><strong>Calculation Method:</strong> (Only appears for
<code>Linear IPCW</code> and <code>Multiplicative Stratified</code>
models)
<ul>
<li><strong><code>Analytical</code></strong>: A very fast method based
on a direct mathematical formula. Ideal for quick exploration.</li>
<li><strong><code>Bootstrap</code></strong>: A more robust,
simulation-based method. It is more computationally intensive but makes
fewer assumptions about the data.</li>
</ul></li>
<li><strong>RMST L (τ):</strong> The truncation time for the RMST
calculation. This should be a clinically meaningful time point within
the follow-up period of your study (e.g., <code>365</code> for 1-year
RMST).</li>
<li><strong>Analysis Inputs:</strong> (This section changes based on
your “Target Quantity” choice)
<ul>
<li>If calculating for <strong>Power</strong>, you will see
<strong>Sample Sizes</strong>. Enter a comma-separated list of sample
sizes to test (e.g., <code>100, 150, 200</code>). For non-stratified
models, this is per arm. For stratified models, it is per stratum.</li>
<li>If calculating for <strong>Sample Size</strong>, you will see
<strong>Target Power</strong>. Use the slider to set the desired power
you want to achieve (e.g., 0.80 for 80% power).</li>
</ul></li>
<li><strong>Significance Level (α):</strong> The Type I error rate,
typically set to 0.05.</li>
</ul>
</div>
<div id="bootstrap-options" class="section level2">
<h2>4. Bootstrap Options</h2>
<p>This panel only appears if you have selected a model that uses the
<strong>Bootstrap</strong> calculation method (either by choice or
because it’s the only method available, like for the GAM model).</p>
<p><em>[Suggest placing a screenshot of the “Bootstrap Options” panel
here]</em></p>
<ul>
<li><strong>Simulations:</strong> The number of bootstrap simulations to
run (<code>n_sim</code>). Higher numbers lead to more stable results but
take longer. A value of <code>1000</code> is often recommended for final
analyses.</li>
<li><strong>Parallel Cores:</strong> The number of CPU cores to use for
the simulation. Using more than <code>1</code> can significantly speed
up the calculation on multi-core computers.</li>
<li><strong>Sample Size Search Parameters:</strong> (Only appear when
calculating for “Sample Size”)
<ul>
<li><strong>Start N:</strong> The initial sample size to begin the
search from.</li>
<li><strong>End N:</strong> The maximum sample size the search will go
up to before stopping.</li>
<li><strong>Step:</strong> The amount to increase the sample size by at
each iteration of the search.</li>
</ul></li>
</ul>
</div>
<div id="action-buttons" class="section level2">
<h2>Action Buttons</h2>
<ul>
<li><strong>Run Analysis:</strong> The main button to start the
calculation. It will be disabled until you have uploaded data and mapped
the required columns.</li>
<li><strong>Reset All:</strong> Clears all inputs and resets the
application to its initial state.</li>
</ul>
<hr />
</div>
</div>
<div id="the-main-panel-interpreting-your-results" class="section level1">
<h1>The Main Panel: Interpreting Your Results</h1>
<p>After you click “Run Analysis,” the results will be displayed in the
main panel, which is organized into several tabs.</p>
<div id="data-preview-tab" class="section level3">
<h3>Data Preview Tab</h3>
<p>This tab shows a preview of your uploaded CSV data, allowing you to
quickly verify that it was read correctly.</p>
</div>
<div id="plot-output-tab" class="section level3">
<h3>Plot Output Tab</h3>
<p>This tab contains two key visualizations:</p>
<ul>
<li><strong>Kaplan-Meier Survival Plot:</strong> A survival plot
generated from your pilot data, showing the survival probability over
time for each treatment arm. This helps you visualize the underlying
data that informs the calculation.</li>
<li><strong>Power vs. Sample Size Curve:</strong> This is the main
graphical output.
<ul>
<li>When calculating for <strong>Power</strong>, it plots the estimated
power for each of the sample sizes you provided.</li>
<li>When calculating for <strong>Sample Size</strong>, it shows the
search path, plotting the calculated power at each step of the iterative
search. It also includes a horizontal dashed line for your target power
and a vertical dotted line for the required sample size.</li>
</ul></li>
</ul>
</div>
<div id="summary-tab" class="section level3">
<h3>Summary Tab</h3>
<p>This tab provides the key numerical results of your analysis.</p>
<ul>
<li><strong>Analysis Results:</strong> The main results table.
<ul>
<li>If calculating for <strong>Power</strong>, it shows each sample size
and its corresponding calculated power.</li>
<li>If calculating for <strong>Sample Size</strong>, it shows the target
power and the final required sample size.</li>
</ul></li>
<li><strong>Effect Size Summary:</strong> A table summarizing the
treatment effect (e.g., RMST Difference or RMST Ratio) as estimated from
your pilot data. This is the effect size that the power calculation is
based on.</li>
<li><strong>Log-Rank Test Summary:</strong> Provides the results of a
log-rank test performed on your pilot data, offering a basic comparison
of the survival curves.</li>
<li><strong>Download PDF Report:</strong> Once an analysis is complete,
a button appears here allowing you to download a formatted PDF report
summarizing your inputs, methods, and results.</li>
</ul>
</div>
<div id="console-log-tab" class="section level3">
<h3>Console Log Tab</h3>
<p>This tab displays detailed messages and outputs generated during the
calculation process. It is useful for understanding the steps the
application is taking and for debugging in case of an error.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
